# Atropine Control Challenge

## Sample Controller
The sample controller is a simple multi-layer-perceptron (MLP), that trained with a set of offline data collected by a default controller from the simulation environment.

### What is in the training dataset?
sample_mlp_control/public_dat contains 1000 episodes of training data collected by EMPC. Since the training should follow the "offline" setting, the MLP model is not allowed to interact with the original environment, and can only learn from these 1000 collected episodes during training.

https://quarticai.atlassian.net/wiki/spaces/AI/pages/2439086127/MPC+on+Continuous+Atropine+Manufacturing+Process contains detailed information about the challenge itself and the whole manufacturing process.
In the csv, ["USS1", "USS2", "USS3", "USS4", "ESS", "E", "KF_X1", "KF_X2", "Z1", "Z2", "Z3", "Z4", "Z5", "Z6", "Z7", "Z8", "Z9", "Z10", "Z11", "Z12", "Z13", "Z14", "Z15", "Z16", "Z17", "Z18", "Z19", "Z20", "Z21", "Z22", "Z23", "Z24", "Z25", "Z26", "Z27", "Z28", "Z29", "Z30"] are generally considered as state features, and ["U1", "U2", "U3", "U4"] are actions taken.

## Evaluation Environment
### What to submit (from the controller)?
To run the ```evaluating.py``` from environment_evaluation, you should put a ```controller.py ``` of your controller into the control_model folder.
The ```controller.py``` should contain a function called ```get_input```, which takes ```state``` and returns ```action```. Please consult the template ```controller.py``` for detailed information.

### What result you can expect?
The results generated by ```evaluating.py``` will contain a ```results.json```, in which ```avg_efactors``` shows the average efector of your control model (the smaller the better), and ```EMPC_avg_efactors``` shows the average efector of EMPC (baseline).
Also, it will contain 200 images; for k in range(100), efactor_fig_{k}.png contains the change of efactor through time using your controller (Real Output), the change of efactor with EMPC through time (EMPC Output), and the steady state efactor (Steady State Output); input_fig_{k}.png contains the change of 4 inputs through time using your controller (Real Output), with EMPC through time (EMPC Output), and the steady state inputs (Steady State Output).
